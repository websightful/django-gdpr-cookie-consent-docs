{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Django GDPR Cookie Consent Why do you need it? As stated by GDPR cookie law , websites that serve content for people from European Union must get consent from website visitors before storing any cookies that are not strictly necessary for the website to function. Not complying with GDPR laws can result in a fine of up to \u20ac20 million or 4% of the company's annual revenue, whichever is greater. Who is it for? Django GDPR Cookie Consent app was created for Django developers who need to integrate a Cookie Consent dialog in their Django projects. The existing open-source Django alternatives at the time of writing were not fully compliant or not feature complete. In addition, the current external services were costly and not customizable enough. Feature Value Supported modern browsers Chrome, Firefox, Safari, Opera, Microsoft Edge Supported Django versions 2.2, 3.0, 3.1, 3.2, 4.0, 4.1, 4.2, 5.0 Supported Python versions 3.5, 3.6, 3.7, 3.8, 3.9, 3.10, 3.11, 3.12 Responsive layout \u2714\ufe0e Multiple layout options \u2714\ufe0e Translatable \u2714\ufe0e Configurable \u2714\ufe0e Unlimited websites \u2714\ufe0e Continuous cookie consent logs \u2714\ufe0e Anonymized IP addresses in the logs \u2714\ufe0e Latest package version 2.2.0 What are the benefits? There are lots of benefits: Saves at least a week of development work. Highly flexible and configurable. Can be used for as many Django websites as necessary. Easy to copy the configuration from one project to another. No external dependencies, just Django>=2.2, Python 3, and plain modern JavaScript. Comes with pretty nice-looking default styling and a responsive layout. Typography and buttons will match your website's style (no iframes used). All functionality can be extended, overwritten, or replaced. Uses configuration in Django settings and templates. No need to modify or adapt scripts from third parties (most of the time). Logs the cookie consent choices from visitors into the database for legal compliance. Developed with internationalization in mind. Compatible with Content-Security-Policy via Django-CSP. MIT license applied. No recurring subscriptions, no limitation per domain, just a single payment. Designed and implemented by the author of \"Web development with Django Cookbook.\" How does it work? Django GDPR Cookie Consent app allows you to set up a modal dialog for cookie explanations and preferences. When a specific cookie section is accepted, the widget loads or renders HTML snippets related to that section. For example, if a visitor approved Performance cookies, they would get Google Analytics loaded. Using the Django GDPR Cookie Consent app, you store the following information about the cookies in Django project settings: What are the cookie sections (e.g. \"Essential\", \"Functionality\", \"Performance\", \"Marketing\")? Are they bounded with any conditional HTML snippets? What are the cookie providers within each section (e.g., \"This website,\" \"Google Analytics,\" \"Facebook,\" \"Youtube,\" etc.)? What are the cookies set by each of those providers? Descriptions for sections, providers, or cookies are translatable. User preferences are saved in a cookie too. If a particular section is unselected later, cookies related to that section are attempted to get deleted. Examples Here are the recorded Selenium tests for a visual preview: Django GDPR Cookie Consent is used in production at these websites: 1st things 1st DjangoTricks Disclaimer The actual website's compliance with the GDPR Cookie Law depends on the configuration of each use case. Django GDPR Cookie Consent app provides the mechanism to make that possible, but it's up to you how you configure and integrate it. Contact For technical questions, feature requests, or bug reports, please contact Aidas Bendoraitis at https://www.djangotricks.com/feedback/ .","title":"Home"},{"location":"#django-gdpr-cookie-consent","text":"","title":"Django GDPR Cookie Consent"},{"location":"#why-do-you-need-it","text":"As stated by GDPR cookie law , websites that serve content for people from European Union must get consent from website visitors before storing any cookies that are not strictly necessary for the website to function. Not complying with GDPR laws can result in a fine of up to \u20ac20 million or 4% of the company's annual revenue, whichever is greater.","title":"Why do you need it?"},{"location":"#who-is-it-for","text":"Django GDPR Cookie Consent app was created for Django developers who need to integrate a Cookie Consent dialog in their Django projects. The existing open-source Django alternatives at the time of writing were not fully compliant or not feature complete. In addition, the current external services were costly and not customizable enough. Feature Value Supported modern browsers Chrome, Firefox, Safari, Opera, Microsoft Edge Supported Django versions 2.2, 3.0, 3.1, 3.2, 4.0, 4.1, 4.2, 5.0 Supported Python versions 3.5, 3.6, 3.7, 3.8, 3.9, 3.10, 3.11, 3.12 Responsive layout \u2714\ufe0e Multiple layout options \u2714\ufe0e Translatable \u2714\ufe0e Configurable \u2714\ufe0e Unlimited websites \u2714\ufe0e Continuous cookie consent logs \u2714\ufe0e Anonymized IP addresses in the logs \u2714\ufe0e Latest package version 2.2.0","title":"Who is it for?"},{"location":"#what-are-the-benefits","text":"There are lots of benefits: Saves at least a week of development work. Highly flexible and configurable. Can be used for as many Django websites as necessary. Easy to copy the configuration from one project to another. No external dependencies, just Django>=2.2, Python 3, and plain modern JavaScript. Comes with pretty nice-looking default styling and a responsive layout. Typography and buttons will match your website's style (no iframes used). All functionality can be extended, overwritten, or replaced. Uses configuration in Django settings and templates. No need to modify or adapt scripts from third parties (most of the time). Logs the cookie consent choices from visitors into the database for legal compliance. Developed with internationalization in mind. Compatible with Content-Security-Policy via Django-CSP. MIT license applied. No recurring subscriptions, no limitation per domain, just a single payment. Designed and implemented by the author of \"Web development with Django Cookbook.\"","title":"What are the benefits?"},{"location":"#how-does-it-work","text":"Django GDPR Cookie Consent app allows you to set up a modal dialog for cookie explanations and preferences. When a specific cookie section is accepted, the widget loads or renders HTML snippets related to that section. For example, if a visitor approved Performance cookies, they would get Google Analytics loaded. Using the Django GDPR Cookie Consent app, you store the following information about the cookies in Django project settings: What are the cookie sections (e.g. \"Essential\", \"Functionality\", \"Performance\", \"Marketing\")? Are they bounded with any conditional HTML snippets? What are the cookie providers within each section (e.g., \"This website,\" \"Google Analytics,\" \"Facebook,\" \"Youtube,\" etc.)? What are the cookies set by each of those providers? Descriptions for sections, providers, or cookies are translatable. User preferences are saved in a cookie too. If a particular section is unselected later, cookies related to that section are attempted to get deleted.","title":"How does it work?"},{"location":"#examples","text":"Here are the recorded Selenium tests for a visual preview: Django GDPR Cookie Consent is used in production at these websites: 1st things 1st DjangoTricks","title":"Examples"},{"location":"#disclaimer","text":"The actual website's compliance with the GDPR Cookie Law depends on the configuration of each use case. Django GDPR Cookie Consent app provides the mechanism to make that possible, but it's up to you how you configure and integrate it.","title":"Disclaimer"},{"location":"#contact","text":"For technical questions, feature requests, or bug reports, please contact Aidas Bendoraitis at https://www.djangotricks.com/feedback/ .","title":"Contact"},{"location":"CHANGELOG/","text":"Changelog All notable changes to this project will be documented in this file. The format is based on Keep a Changelog , and this project adheres to Semantic Versioning . [Unreleased] [v2.2.0] - 2024-03-08 Added Django 5.0 support. Python 3.9, 3.10, 3.11, 3.12 support. [v2.1.0] - 2023-04-07 Added Django 4.2 support. [v2.0.1] - 2022-10-31 Fixed Python 3.5, 3.6, 3.7, 3.8 support. [v2.0.0] - 2022-10-31 Added Button text customization. Possibility to preselect a section in configuration. IP addresses in the logs anonymized. Python 3.11 support. Dialog position configurations: center, top, left, right, bottom. Changed Dialog close button made optional and not shown by default. [v1.2.1] - 2022-09-14 Added Pointer cursor for \"Show cookie providers\". Fixed gettext_lazy usage in the settings. [v1.2.0] - 2022-08-07 Added Django 4.1 support. [v1.1.0] - 2021-12-17 Added Django 4.0 support. [v1.0.0] - 2021-11-15 Added Python 3.9 and 3.10 support. [v0.3.2] - 2021-11-14 Fixed More spacious layout for the modal dialog on mobile screens. [v0.3.1] - 2021-11-12 Fixed The styling for the modal dialog close button fixed for mobile Chrome and Safari. [v0.3.0] - 2021-11-12 Added Content-Security-Policy is supported: you can use Django-CSP with nonces for inline scripts and styles. [v0.2.4] - 2021-11-02 Added HTML ids added for switch widgets for easier testability. [v0.2.3] - 2021-11-01 Fixed Modal dialog submission fix for Safari. [v0.2.2] - 2021-11-01 Fixed Multiple <script> loading in the conditional snippets fixed. [v0.2.1] - 2021-10-27 Changed Modal dialog centered vertically and horizontally. [v0.2.0] - 2021-10-27 Added Logging the cookie consent choices in the database because of the legal requirements. Fixed Disabling the buttons while saving the Cookie Choices so that they are not triggered more than once with slow Internet connections. [v0.1.11] - 2021-10-24 Fixed Styling of the switches. [v0.1.8] - 2021-10-24 Fixed Styling for the modal dialog close button. [v0.1.6] - 2021-10-23 Removed Samesite functionality. [v0.1.5] - 2021-10-23 Added Default extra.html template. [v0.1.4] - 2021-10-23 Fixed bump2version configuration. [v0.1.2] - 2021-10-23 Added Initial commit.","title":"Changelog"},{"location":"CHANGELOG/#changelog","text":"All notable changes to this project will be documented in this file. The format is based on Keep a Changelog , and this project adheres to Semantic Versioning .","title":"Changelog"},{"location":"CHANGELOG/#unreleased","text":"","title":"[Unreleased]"},{"location":"CHANGELOG/#v220-2024-03-08","text":"","title":"[v2.2.0] - 2024-03-08"},{"location":"CHANGELOG/#added","text":"Django 5.0 support. Python 3.9, 3.10, 3.11, 3.12 support.","title":"Added"},{"location":"CHANGELOG/#v210-2023-04-07","text":"","title":"[v2.1.0] - 2023-04-07"},{"location":"CHANGELOG/#added_1","text":"Django 4.2 support.","title":"Added"},{"location":"CHANGELOG/#v201-2022-10-31","text":"","title":"[v2.0.1] - 2022-10-31"},{"location":"CHANGELOG/#fixed","text":"Python 3.5, 3.6, 3.7, 3.8 support.","title":"Fixed"},{"location":"CHANGELOG/#v200-2022-10-31","text":"","title":"[v2.0.0] - 2022-10-31"},{"location":"CHANGELOG/#added_2","text":"Button text customization. Possibility to preselect a section in configuration. IP addresses in the logs anonymized. Python 3.11 support. Dialog position configurations: center, top, left, right, bottom.","title":"Added"},{"location":"CHANGELOG/#changed","text":"Dialog close button made optional and not shown by default.","title":"Changed"},{"location":"CHANGELOG/#v121-2022-09-14","text":"","title":"[v1.2.1] - 2022-09-14"},{"location":"CHANGELOG/#added_3","text":"Pointer cursor for \"Show cookie providers\".","title":"Added"},{"location":"CHANGELOG/#fixed_1","text":"gettext_lazy usage in the settings.","title":"Fixed"},{"location":"CHANGELOG/#v120-2022-08-07","text":"","title":"[v1.2.0] - 2022-08-07"},{"location":"CHANGELOG/#added_4","text":"Django 4.1 support.","title":"Added"},{"location":"CHANGELOG/#v110-2021-12-17","text":"","title":"[v1.1.0] - 2021-12-17"},{"location":"CHANGELOG/#added_5","text":"Django 4.0 support.","title":"Added"},{"location":"CHANGELOG/#v100-2021-11-15","text":"","title":"[v1.0.0] - 2021-11-15"},{"location":"CHANGELOG/#added_6","text":"Python 3.9 and 3.10 support.","title":"Added"},{"location":"CHANGELOG/#v032-2021-11-14","text":"","title":"[v0.3.2] - 2021-11-14"},{"location":"CHANGELOG/#fixed_2","text":"More spacious layout for the modal dialog on mobile screens.","title":"Fixed"},{"location":"CHANGELOG/#v031-2021-11-12","text":"","title":"[v0.3.1] - 2021-11-12"},{"location":"CHANGELOG/#fixed_3","text":"The styling for the modal dialog close button fixed for mobile Chrome and Safari.","title":"Fixed"},{"location":"CHANGELOG/#v030-2021-11-12","text":"","title":"[v0.3.0] - 2021-11-12"},{"location":"CHANGELOG/#added_7","text":"Content-Security-Policy is supported: you can use Django-CSP with nonces for inline scripts and styles.","title":"Added"},{"location":"CHANGELOG/#v024-2021-11-02","text":"","title":"[v0.2.4] - 2021-11-02"},{"location":"CHANGELOG/#added_8","text":"HTML ids added for switch widgets for easier testability.","title":"Added"},{"location":"CHANGELOG/#v023-2021-11-01","text":"","title":"[v0.2.3] - 2021-11-01"},{"location":"CHANGELOG/#fixed_4","text":"Modal dialog submission fix for Safari.","title":"Fixed"},{"location":"CHANGELOG/#v022-2021-11-01","text":"","title":"[v0.2.2] - 2021-11-01"},{"location":"CHANGELOG/#fixed_5","text":"Multiple <script> loading in the conditional snippets fixed.","title":"Fixed"},{"location":"CHANGELOG/#v021-2021-10-27","text":"","title":"[v0.2.1] - 2021-10-27"},{"location":"CHANGELOG/#changed_1","text":"Modal dialog centered vertically and horizontally.","title":"Changed"},{"location":"CHANGELOG/#v020-2021-10-27","text":"","title":"[v0.2.0] - 2021-10-27"},{"location":"CHANGELOG/#added_9","text":"Logging the cookie consent choices in the database because of the legal requirements.","title":"Added"},{"location":"CHANGELOG/#fixed_6","text":"Disabling the buttons while saving the Cookie Choices so that they are not triggered more than once with slow Internet connections.","title":"Fixed"},{"location":"CHANGELOG/#v0111-2021-10-24","text":"","title":"[v0.1.11] - 2021-10-24"},{"location":"CHANGELOG/#fixed_7","text":"Styling of the switches.","title":"Fixed"},{"location":"CHANGELOG/#v018-2021-10-24","text":"","title":"[v0.1.8] - 2021-10-24"},{"location":"CHANGELOG/#fixed_8","text":"Styling for the modal dialog close button.","title":"Fixed"},{"location":"CHANGELOG/#v016-2021-10-23","text":"","title":"[v0.1.6] - 2021-10-23"},{"location":"CHANGELOG/#removed","text":"Samesite functionality.","title":"Removed"},{"location":"CHANGELOG/#v015-2021-10-23","text":"","title":"[v0.1.5] - 2021-10-23"},{"location":"CHANGELOG/#added_10","text":"Default extra.html template.","title":"Added"},{"location":"CHANGELOG/#v014-2021-10-23","text":"","title":"[v0.1.4] - 2021-10-23"},{"location":"CHANGELOG/#fixed_9","text":"bump2version configuration.","title":"Fixed"},{"location":"CHANGELOG/#v012-2021-10-23","text":"","title":"[v0.1.2] - 2021-10-23"},{"location":"CHANGELOG/#added_11","text":"Initial commit.","title":"Added"},{"location":"LICENSE/","text":"MIT License Copyright (c) Websightful UG Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","title":"License"},{"location":"LICENSE/#mit-license","text":"Copyright (c) Websightful UG Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","title":"MIT License"},{"location":"cookie-consent-settings/","text":"The Example of Cookie Consent Settings Copy this to your project's settings and modify according to your website's needs: from django.utils.translation import gettext_lazy as _ COOKIE_CONSENT_SETTINGS = { # Base template will be used for the cookie management view. # It should contain {% block content %}{% endblock %} \"base_template_name\": \"base.html\", # Description will be used in the modal dialog and cookie management view. # Provide either a translatable string or a HTML template name. \"description\": \"\", \"description_template_name\": \"gdpr_cookie_consent/descriptions/what_are_cookies.html\", # Extra information will be used at the end of cookie management view. # Provide either a translatable string or a HTML template name. \"extra_information\": \"\", \"extra_information_template_name\": \"gdpr_cookie_consent/descriptions/extra.html\", # Button texts can be customized. \"buttons\": { \"accept_all_dialog\": _(\"Accept all recommended\"), \"reject_all_dialog\": _(\"Reject non-required\"), \"manage_cookies\": _(\"Manage cookies\"), \"accept_all_config\": _(\"Accept all\"), \"reject_all_config\": _(\"Reject all\"), \"save_preferences\": _(\"Save preferences\"), \"save_and_close\": _(\"Save and close\"), \"close\": _(\"Close\"), }, # Should it be possible to close the dialog without choosing a consent? \"show_dialog_close_button\": True, # Dialog position: center, top, left, right, bottom \"dialog_position\": \"center\", # All important elements will have CSS classes with `cc-` prefix, # by which you can target them and overwrite their styling. # But you can attach some CSS classes to certain elements too. \"styling\": { \"primary_button_css_classes\": \"\", \"secondary_button_css_classes\": \"\", \"provider_list_css_classes\": \"\", \"provider_item_css_classes\": \"\", \"link_css_classes\": \"\", \"section_anchor_css_classes\": \"\", }, # Any variables that will be passed to conditional HTML snippets \"extra_context\": { \"API_KEY_1\": \"abcdefg12345\", \"API_KEY_2\": \"12345abcdefg\", }, # Consent cookie max age say how many seconds to keep the cookie consent preferences. # For example, it can be approximately six months \"consent_cookie_max_age\": 60 * 60 * 24 * 30 * 6, # Sections define the purposes of cookie groups. # For example: Essential, Functionality, Performance, and Marketing \"sections\": [ { # The slug will be used as a readable identifier of the section \"slug\": \"essential\", # Translatable title of the section \"title\": _(\"Essential Cookies\"), # Required sections will be already selected and read-only \"required\": True, # Preselected sections will be selected in the configuration page before the consent is given. # (all required sections will be preselected too and this setting is ignored for those) # N.B. Laws of the United Kingdom, Germany, and France require that # the opt-in consent for cookies must not be pre-enabled, # so consult your lawyers before enabling this setting. \"preselected\": True, # Section summary will be shown in the modal dialog and preferences form. # Provide either a translatable string or a HTML template name. \"summary\": _( \"These cookies are always on, as they\u2019re essential for making this website work, and making it safe. Without these cookies, services you\u2019ve asked for can\u2019t be provided.\"), \"summary_template_name\": \"\", # Section description will be used at the extended cookie explanation in the cookie management view. # Provide either a translatable string or a HTML template name. \"description\": _( \"These cookies are always on, as they\u2019re essential for making this website work, and making it safe. Without these cookies, services you\u2019ve asked for can\u2019t be provided.\"), \"description_template_name\": \"\", # Cookie providers are websites that set the cookies on your website \"providers\": [ { # Translatable title of the provider \"title\": _(\"This website\"), # Provider description will be used at the extended cookie explanation in the cookie management view. # Provide either a translatable string or a HTML template name. \"description\": \"\", \"description_template_name\": \"\", # A list of cookies set by the provider \"cookies\": [ { # Cookie name can include wildcard syntax like \"abc_*\" \"cookie_name\": \"sessionid\", # Human-readable translated duration of the cookie \"duration\": _(\"2 Weeks\"), # Cookie description will be used at the extended cookie explanation in the cookie management view. # Provide either a translatable string or a HTML template name. \"description\": _( \"Session ID used to authenticate you and give permissions to use the site.\"), \"description_template_name\": \"\", # Cookie domain will be used to delete cookies if a section is unchecked \"domain\": \".example.com\", }, { \"cookie_name\": \"csrftoken\", \"duration\": _(\"Session\"), \"description\": _( \"Security token used to ensure that no hackers are posting forms on your behalf.\"), \"description_template_name\": \"\", \"domain\": \".example.com\", }, { \"cookie_name\": \"cookie_consent\", \"duration\": _(\"6 Years\"), \"description\": _(\"Settings of Cookie Consent preferences.\"), \"description_template_name\": \"\", \"domain\": \".example.com\", }, ] }, ], }, { \"slug\": \"functionality\", \"title\": _(\"Functionality Cookies\"), # Conditional HTML snippet will be loaded or rendered if this section is selected \"conditional_html_template_name\": \"conditional_html/functionality.html\", \"required\": False, \"summary\": _( \"These cookies help us provide enhanced functionality and personalisation, and remember your settings. They may be set by us or by third party providers.\"), \"summary_template_name\": \"\", \"description\": _( \"These cookies help us provide enhanced functionality and personalisation, and remember your settings. They may be set by us or by third party providers.\"), \"description_template_name\": \"\", \"providers\": [ { \"title\": _(\"Youtube\"), \"description\": _( \"Youtube is a video platform from which we are embedding video tutorials and other informational videos.\"), \"description_template_name\": \"\", \"cookies\": [ { \"cookie_name\": \"CONSENT\", \"duration\": _(\"2 Years\"), \"description\": \"\", \"description_template_name\": \"\", \"domain\": \".youtube.com\", }, { \"cookie_name\": \"VISITOR_INFO1_LIVE\", \"duration\": _(\"6 Months\"), \"description\": \"\", \"description_template_name\": \"\", }, { \"cookie_name\": \"YSC\", \"duration\": _(\"Session\"), \"description\": \"\", \"description_template_name\": \"\", }, { \"cookie_name\": \"1P_JAR\", \"duration\": _(\"1 Month\"), \"description\": \"\", \"description_template_name\": \"\", \"domain\": \".google.com\", }, { \"cookie_name\": \"NID\", \"duration\": _(\"6 Months\"), \"description\": \"\", \"description_template_name\": \"\", \"domain\": \".google.com\", }, ] }, ], }, { \"slug\": \"performance\", \"title\": _(\"Performance Cookies\"), \"conditional_html_template_name\": \"conditional_html/performance.html\", \"required\": False, \"summary\": _( \"These cookies help us analyse how many people are using this website, where they come from and how they're using it. If you opt out of these cookies, we can\u2019t get feedback to make this website better for you and all our users.\"), \"summary_template_name\": \"\", \"description\": _( \"These cookies help us analyse how many people are using this website, where they come from and how they're using it. If you opt out of these cookies, we can\u2019t get feedback to make this website better for you and all our users.\"), \"description_template_name\": \"\", \"providers\": [ { \"title\": _(\"Google Analytics\"), \"description\": _(\"Google Analytics is used to track website usage statistics.\"), \"description_template_name\": \"\", \"cookies\": [ { \"cookie_name\": \"_ga\", \"duration\": _(\"2 Years\"), \"description\": _(\"Used to distinguish users.\"), \"description_template_name\": \"\", \"domain\": \".example.com\", }, { \"cookie_name\": \"_gid\", \"duration\": _(\"24 Hours\"), \"description\": _(\"Used to distinguish users.\"), \"description_template_name\": \"\", \"domain\": \".example.com\", }, { \"cookie_name\": \"_ga_*\", \"duration\": _(\"2 Years\"), \"description\": _(\"Used to persist session state.\"), \"description_template_name\": \"\", \"domain\": \".example.com\", }, { \"cookie_name\": \"_gac_gb_*\", \"duration\": _(\"90 Days\"), \"description\": _( \"Contains campaign related information. If you have linked your Google Analytics and Google Ads accounts, Google Ads website conversion tags will read this cookie unless you opt-out.\"), \"description_template_name\": \"\", \"domain\": \".example.com\", }, { \"cookie_name\": \"_gat_gtag_UA_*\", \"duration\": _(\"1 Minute\"), \"description\": _(\"Stores unique user ID.\"), \"description_template_name\": \"\", \"domain\": \".example.com\", }, ] }, ], }, { \"slug\": \"marketing\", \"title\": _(\"Marketing Cookies\"), \"conditional_html_template_name\": \"conditional_html/marketing.html\", \"required\": False, \"summary\": _( \"These cookies are set by our advertising partners to track your activity and show you relevant ads on other sites as you browse the internet.\"), \"summary_template_name\": \"\", \"description\": _( \"These cookies are set by our advertising partners to track your activity and show you relevant ads on other sites as you browse the internet.\"), \"description_template_name\": \"\", \"providers\": [ { \"title\": _(\"Facebook Pixel\"), \"description\": _( \"Facebook Pixel lets us track how well our ads on Facebook performed, and which ads led to registration or subscriptions.\"), \"description_template_name\": \"\", \"cookies\": [ { \"cookie_name\": \"c_user\", \"duration\": _(\"3 Months / Session\"), \"description\": _(\"Contains the user ID of the currently logged in user.\"), \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"datr\", \"duration\": _(\"2 Years\"), \"description\": _( \"Identifies the web browser being used to connect to Facebook independent of the logged in user.\"), \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"sb\", \"duration\": _(\"Persistent\"), \"description\": _(\"For storing browser details.\"), \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"dpr\", \"duration\": _(\"7 Days\"), \"description\": _(\"For delivering an optimal experience for your device\u2019s screen.\"), \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"x-referer\", \"duration\": _(\"Session\"), \"description\": \"\", \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"spin\", \"duration\": _(\"25 Hours\"), \"description\": \"\", \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"xs\", \"duration\": _(\"3 Months / Session\"), \"description\": _(\"Stores the session ID.\"), \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"fr\", \"duration\": _(\"3 Months / Session\"), \"description\": _(\"Provides ad delivery or retargeting.\"), \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"usida\", \"duration\": _(\"Session\"), \"description\": \"\", \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"presence\", \"duration\": _(\"Session\"), \"description\": \"\", \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"_fbp\", \"duration\": _(\"3 Months\"), \"description\": _( \"Used to deliver a series of advertisement products such as real time bidding from third party advertisers.\"), \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"m_pixel_ratio\", \"duration\": _(\"Session\"), \"description\": \"\", \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, ] }, ], }, ] }","title":"Settings Example"},{"location":"cookie-consent-settings/#the-example-of-cookie-consent-settings","text":"Copy this to your project's settings and modify according to your website's needs: from django.utils.translation import gettext_lazy as _ COOKIE_CONSENT_SETTINGS = { # Base template will be used for the cookie management view. # It should contain {% block content %}{% endblock %} \"base_template_name\": \"base.html\", # Description will be used in the modal dialog and cookie management view. # Provide either a translatable string or a HTML template name. \"description\": \"\", \"description_template_name\": \"gdpr_cookie_consent/descriptions/what_are_cookies.html\", # Extra information will be used at the end of cookie management view. # Provide either a translatable string or a HTML template name. \"extra_information\": \"\", \"extra_information_template_name\": \"gdpr_cookie_consent/descriptions/extra.html\", # Button texts can be customized. \"buttons\": { \"accept_all_dialog\": _(\"Accept all recommended\"), \"reject_all_dialog\": _(\"Reject non-required\"), \"manage_cookies\": _(\"Manage cookies\"), \"accept_all_config\": _(\"Accept all\"), \"reject_all_config\": _(\"Reject all\"), \"save_preferences\": _(\"Save preferences\"), \"save_and_close\": _(\"Save and close\"), \"close\": _(\"Close\"), }, # Should it be possible to close the dialog without choosing a consent? \"show_dialog_close_button\": True, # Dialog position: center, top, left, right, bottom \"dialog_position\": \"center\", # All important elements will have CSS classes with `cc-` prefix, # by which you can target them and overwrite their styling. # But you can attach some CSS classes to certain elements too. \"styling\": { \"primary_button_css_classes\": \"\", \"secondary_button_css_classes\": \"\", \"provider_list_css_classes\": \"\", \"provider_item_css_classes\": \"\", \"link_css_classes\": \"\", \"section_anchor_css_classes\": \"\", }, # Any variables that will be passed to conditional HTML snippets \"extra_context\": { \"API_KEY_1\": \"abcdefg12345\", \"API_KEY_2\": \"12345abcdefg\", }, # Consent cookie max age say how many seconds to keep the cookie consent preferences. # For example, it can be approximately six months \"consent_cookie_max_age\": 60 * 60 * 24 * 30 * 6, # Sections define the purposes of cookie groups. # For example: Essential, Functionality, Performance, and Marketing \"sections\": [ { # The slug will be used as a readable identifier of the section \"slug\": \"essential\", # Translatable title of the section \"title\": _(\"Essential Cookies\"), # Required sections will be already selected and read-only \"required\": True, # Preselected sections will be selected in the configuration page before the consent is given. # (all required sections will be preselected too and this setting is ignored for those) # N.B. Laws of the United Kingdom, Germany, and France require that # the opt-in consent for cookies must not be pre-enabled, # so consult your lawyers before enabling this setting. \"preselected\": True, # Section summary will be shown in the modal dialog and preferences form. # Provide either a translatable string or a HTML template name. \"summary\": _( \"These cookies are always on, as they\u2019re essential for making this website work, and making it safe. Without these cookies, services you\u2019ve asked for can\u2019t be provided.\"), \"summary_template_name\": \"\", # Section description will be used at the extended cookie explanation in the cookie management view. # Provide either a translatable string or a HTML template name. \"description\": _( \"These cookies are always on, as they\u2019re essential for making this website work, and making it safe. Without these cookies, services you\u2019ve asked for can\u2019t be provided.\"), \"description_template_name\": \"\", # Cookie providers are websites that set the cookies on your website \"providers\": [ { # Translatable title of the provider \"title\": _(\"This website\"), # Provider description will be used at the extended cookie explanation in the cookie management view. # Provide either a translatable string or a HTML template name. \"description\": \"\", \"description_template_name\": \"\", # A list of cookies set by the provider \"cookies\": [ { # Cookie name can include wildcard syntax like \"abc_*\" \"cookie_name\": \"sessionid\", # Human-readable translated duration of the cookie \"duration\": _(\"2 Weeks\"), # Cookie description will be used at the extended cookie explanation in the cookie management view. # Provide either a translatable string or a HTML template name. \"description\": _( \"Session ID used to authenticate you and give permissions to use the site.\"), \"description_template_name\": \"\", # Cookie domain will be used to delete cookies if a section is unchecked \"domain\": \".example.com\", }, { \"cookie_name\": \"csrftoken\", \"duration\": _(\"Session\"), \"description\": _( \"Security token used to ensure that no hackers are posting forms on your behalf.\"), \"description_template_name\": \"\", \"domain\": \".example.com\", }, { \"cookie_name\": \"cookie_consent\", \"duration\": _(\"6 Years\"), \"description\": _(\"Settings of Cookie Consent preferences.\"), \"description_template_name\": \"\", \"domain\": \".example.com\", }, ] }, ], }, { \"slug\": \"functionality\", \"title\": _(\"Functionality Cookies\"), # Conditional HTML snippet will be loaded or rendered if this section is selected \"conditional_html_template_name\": \"conditional_html/functionality.html\", \"required\": False, \"summary\": _( \"These cookies help us provide enhanced functionality and personalisation, and remember your settings. They may be set by us or by third party providers.\"), \"summary_template_name\": \"\", \"description\": _( \"These cookies help us provide enhanced functionality and personalisation, and remember your settings. They may be set by us or by third party providers.\"), \"description_template_name\": \"\", \"providers\": [ { \"title\": _(\"Youtube\"), \"description\": _( \"Youtube is a video platform from which we are embedding video tutorials and other informational videos.\"), \"description_template_name\": \"\", \"cookies\": [ { \"cookie_name\": \"CONSENT\", \"duration\": _(\"2 Years\"), \"description\": \"\", \"description_template_name\": \"\", \"domain\": \".youtube.com\", }, { \"cookie_name\": \"VISITOR_INFO1_LIVE\", \"duration\": _(\"6 Months\"), \"description\": \"\", \"description_template_name\": \"\", }, { \"cookie_name\": \"YSC\", \"duration\": _(\"Session\"), \"description\": \"\", \"description_template_name\": \"\", }, { \"cookie_name\": \"1P_JAR\", \"duration\": _(\"1 Month\"), \"description\": \"\", \"description_template_name\": \"\", \"domain\": \".google.com\", }, { \"cookie_name\": \"NID\", \"duration\": _(\"6 Months\"), \"description\": \"\", \"description_template_name\": \"\", \"domain\": \".google.com\", }, ] }, ], }, { \"slug\": \"performance\", \"title\": _(\"Performance Cookies\"), \"conditional_html_template_name\": \"conditional_html/performance.html\", \"required\": False, \"summary\": _( \"These cookies help us analyse how many people are using this website, where they come from and how they're using it. If you opt out of these cookies, we can\u2019t get feedback to make this website better for you and all our users.\"), \"summary_template_name\": \"\", \"description\": _( \"These cookies help us analyse how many people are using this website, where they come from and how they're using it. If you opt out of these cookies, we can\u2019t get feedback to make this website better for you and all our users.\"), \"description_template_name\": \"\", \"providers\": [ { \"title\": _(\"Google Analytics\"), \"description\": _(\"Google Analytics is used to track website usage statistics.\"), \"description_template_name\": \"\", \"cookies\": [ { \"cookie_name\": \"_ga\", \"duration\": _(\"2 Years\"), \"description\": _(\"Used to distinguish users.\"), \"description_template_name\": \"\", \"domain\": \".example.com\", }, { \"cookie_name\": \"_gid\", \"duration\": _(\"24 Hours\"), \"description\": _(\"Used to distinguish users.\"), \"description_template_name\": \"\", \"domain\": \".example.com\", }, { \"cookie_name\": \"_ga_*\", \"duration\": _(\"2 Years\"), \"description\": _(\"Used to persist session state.\"), \"description_template_name\": \"\", \"domain\": \".example.com\", }, { \"cookie_name\": \"_gac_gb_*\", \"duration\": _(\"90 Days\"), \"description\": _( \"Contains campaign related information. If you have linked your Google Analytics and Google Ads accounts, Google Ads website conversion tags will read this cookie unless you opt-out.\"), \"description_template_name\": \"\", \"domain\": \".example.com\", }, { \"cookie_name\": \"_gat_gtag_UA_*\", \"duration\": _(\"1 Minute\"), \"description\": _(\"Stores unique user ID.\"), \"description_template_name\": \"\", \"domain\": \".example.com\", }, ] }, ], }, { \"slug\": \"marketing\", \"title\": _(\"Marketing Cookies\"), \"conditional_html_template_name\": \"conditional_html/marketing.html\", \"required\": False, \"summary\": _( \"These cookies are set by our advertising partners to track your activity and show you relevant ads on other sites as you browse the internet.\"), \"summary_template_name\": \"\", \"description\": _( \"These cookies are set by our advertising partners to track your activity and show you relevant ads on other sites as you browse the internet.\"), \"description_template_name\": \"\", \"providers\": [ { \"title\": _(\"Facebook Pixel\"), \"description\": _( \"Facebook Pixel lets us track how well our ads on Facebook performed, and which ads led to registration or subscriptions.\"), \"description_template_name\": \"\", \"cookies\": [ { \"cookie_name\": \"c_user\", \"duration\": _(\"3 Months / Session\"), \"description\": _(\"Contains the user ID of the currently logged in user.\"), \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"datr\", \"duration\": _(\"2 Years\"), \"description\": _( \"Identifies the web browser being used to connect to Facebook independent of the logged in user.\"), \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"sb\", \"duration\": _(\"Persistent\"), \"description\": _(\"For storing browser details.\"), \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"dpr\", \"duration\": _(\"7 Days\"), \"description\": _(\"For delivering an optimal experience for your device\u2019s screen.\"), \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"x-referer\", \"duration\": _(\"Session\"), \"description\": \"\", \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"spin\", \"duration\": _(\"25 Hours\"), \"description\": \"\", \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"xs\", \"duration\": _(\"3 Months / Session\"), \"description\": _(\"Stores the session ID.\"), \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"fr\", \"duration\": _(\"3 Months / Session\"), \"description\": _(\"Provides ad delivery or retargeting.\"), \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"usida\", \"duration\": _(\"Session\"), \"description\": \"\", \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"presence\", \"duration\": _(\"Session\"), \"description\": \"\", \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"_fbp\", \"duration\": _(\"3 Months\"), \"description\": _( \"Used to deliver a series of advertisement products such as real time bidding from third party advertisers.\"), \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, { \"cookie_name\": \"m_pixel_ratio\", \"duration\": _(\"Session\"), \"description\": \"\", \"description_template_name\": \"\", \"domain\": \".facebook.com\", }, ] }, ], }, ] }","title":"The Example of Cookie Consent Settings"},{"location":"customization/","text":"Customization Descriptions Each description in the COOKIE_CONSENT_SETTINGS configuration can be either set as description translatable string, or as a description_template_name template path with any necessary HTML markup. Layout options There are five possible modal dialog layout options, set as the dialog_position setting: center - a dialog box is shown in the middle of the window. top - a dialog is at the full-width top bar. left - a dialog is at the left sidebar. right - a dialog is at the right sidebar. bottom - a dialog is at the full-width bottom bar. The show_dialog_close_button setting tells whether to show or hide the close button for the dialog. Setting it to False is recommended because you need somewhat consent before activating JavaScript functionalities on your websites as soon as possible. Button texts Button texts can be cusomized by the buttons setting: \"buttons\": { \"accept_all_dialog\": _(\"Accept all\"), \"reject_all_dialog\": _(\"Reject all\"), \"manage_cookies\": _(\"Manage cookies\"), \"accept_all_config\": _(\"Accept all\"), \"reject_all_config\": _(\"Reject all\"), \"save_preferences\": _(\"Save preferences\"), \"save_and_close\": _(\"Save and close\"), \"close\": _(\"Close\"), }, Styling The modal dialog uses the fonts of the website. Colors can be modified by CSS custom properties: body { --cc-primary: #007bff; --cc-light-gray: #ccc; --cc-dark-gray: #343a40; --cc-light: #fff; --cc-backdrop: rgba(0, 0, 0, 0.5); } All essential elements have CSS classes with cc- prefix, and you can overwrite some of their properties. If you are using a CSS framework like Bootstrap or TailwindCSS, you can set the extra CSS classes for particular elements in the styling section of COOKIE_CONSENT_SETTINGS : \"styling\": { \"primary_button_css_classes\": \"\", \"secondary_button_css_classes\": \"\", \"provider_list_css_classes\": \"\", \"provider_item_css_classes\": \"\", \"link_css_classes\": \"\", \"section_anchor_css_classes\": \"\", }, If you can't implement what you need with the methods above, instead you can create a custom CSS file and link to it. And of that is still not an option for you, you can also overwrite the templates. Templates The templates used for the cookie consent management can be copied to the templates directory of the project and overwritten. Mostly necessary templates are these: gdpr_cookie_consent/descriptions/what_are_cookies.html is the description of the cookies in the modal dialog and cookie management page. gdpr_cookie_consent/descriptions/extra.html is the extra HTML going at the bottom of cookie management page. gdpr_cookie_consent/modal_dialog.html is the template for the cookie consent's modal dialog. gdpr_cookie_consent/cookies_management.html is the template for the external page. Passing Variables to Cookie Consent Management Templates If you don't want to hardcode some variables like API keys in the conditional HTML files, you can pass them in extra_context section of COOKIE_CONSENT_SETTINGS : \"extra_context\": { \"GOOGLE_ANALYTICS_TRACKING_ID\": get_secret(\"GOOGLE_ANALYTICS_TRACKING_ID\"), \"STRIPE_PUBLISHABLE_KEY\": get_secret(\"STRIPE_PUBLISHABLE_KEY\"), }, In this example, get_secret() should be a function implemented by you, that reads the secret values from the environment variables, unversioned secrets.json file, or elsewhere. The variables mentioned in extra_context will be passed to all templates of Django GDPR Cookie Consent. Conditional Rendering in Templates Enable gdpr_cookie_consent context processor in the template settings: TEMPLATES = [ { # \u2026 \"OPTIONS\": { \"context_processors\": [ # \u2026 \"gdpr_cookie_consent.context_processors.gdpr_cookie_consent\", ], }, }, ] Now you can check if a section was chosen by the visitor in any template by this: {% if \"functionality\" in cookie_consent_controller.checked_sections %} <!-- add some optional functionality --> {% endif %} Note that this conditional rendering will happen only after page reload, not just after closing the Cookie Consent modal dialog. Conditional Rendering in JavaScript If you are using ReactJS, Vue, AngularJS, or other frontend library to render HTML, you can check if a cookie section was chosen by the following technique. At first set a global variable in conditional templates: {# conditional_html/functionality.html #} <script> window.ENABLE_YOUTUBE_EMBEDS = true; </script> Then check for that value in some rendering functions: // some javascript file if (window.ENABLE_YOUTUBE_EMBEDS) { embed_youtube_videos(); } Using Content-Security-Policy with Django-CSP Django GDPR Cookie Consent is compatible with Content-Security-Policy via Django-CSP app. To use it together, you just need to do two things. In the project's settings, enable nonces: CSP_INCLUDE_NONCE_IN = [\"script-src\", \"style-src\"] In the conditional html snippets, set nonces for inline <style> and <script> tags: <style nonce=\"{{ request.csp_nonce }}\"> body { background: red; } </style> <script nonce=\"{{ request.csp_nonce }}\"> console.log('Conditional script loaded!'); </script>","title":"Customization"},{"location":"customization/#customization","text":"","title":"Customization"},{"location":"customization/#descriptions","text":"Each description in the COOKIE_CONSENT_SETTINGS configuration can be either set as description translatable string, or as a description_template_name template path with any necessary HTML markup.","title":"Descriptions"},{"location":"customization/#layout-options","text":"There are five possible modal dialog layout options, set as the dialog_position setting: center - a dialog box is shown in the middle of the window. top - a dialog is at the full-width top bar. left - a dialog is at the left sidebar. right - a dialog is at the right sidebar. bottom - a dialog is at the full-width bottom bar. The show_dialog_close_button setting tells whether to show or hide the close button for the dialog. Setting it to False is recommended because you need somewhat consent before activating JavaScript functionalities on your websites as soon as possible.","title":"Layout options"},{"location":"customization/#button-texts","text":"Button texts can be cusomized by the buttons setting: \"buttons\": { \"accept_all_dialog\": _(\"Accept all\"), \"reject_all_dialog\": _(\"Reject all\"), \"manage_cookies\": _(\"Manage cookies\"), \"accept_all_config\": _(\"Accept all\"), \"reject_all_config\": _(\"Reject all\"), \"save_preferences\": _(\"Save preferences\"), \"save_and_close\": _(\"Save and close\"), \"close\": _(\"Close\"), },","title":"Button texts"},{"location":"customization/#styling","text":"The modal dialog uses the fonts of the website. Colors can be modified by CSS custom properties: body { --cc-primary: #007bff; --cc-light-gray: #ccc; --cc-dark-gray: #343a40; --cc-light: #fff; --cc-backdrop: rgba(0, 0, 0, 0.5); } All essential elements have CSS classes with cc- prefix, and you can overwrite some of their properties. If you are using a CSS framework like Bootstrap or TailwindCSS, you can set the extra CSS classes for particular elements in the styling section of COOKIE_CONSENT_SETTINGS : \"styling\": { \"primary_button_css_classes\": \"\", \"secondary_button_css_classes\": \"\", \"provider_list_css_classes\": \"\", \"provider_item_css_classes\": \"\", \"link_css_classes\": \"\", \"section_anchor_css_classes\": \"\", }, If you can't implement what you need with the methods above, instead you can create a custom CSS file and link to it. And of that is still not an option for you, you can also overwrite the templates.","title":"Styling"},{"location":"customization/#templates","text":"The templates used for the cookie consent management can be copied to the templates directory of the project and overwritten. Mostly necessary templates are these: gdpr_cookie_consent/descriptions/what_are_cookies.html is the description of the cookies in the modal dialog and cookie management page. gdpr_cookie_consent/descriptions/extra.html is the extra HTML going at the bottom of cookie management page. gdpr_cookie_consent/modal_dialog.html is the template for the cookie consent's modal dialog. gdpr_cookie_consent/cookies_management.html is the template for the external page.","title":"Templates"},{"location":"customization/#passing-variables-to-cookie-consent-management-templates","text":"If you don't want to hardcode some variables like API keys in the conditional HTML files, you can pass them in extra_context section of COOKIE_CONSENT_SETTINGS : \"extra_context\": { \"GOOGLE_ANALYTICS_TRACKING_ID\": get_secret(\"GOOGLE_ANALYTICS_TRACKING_ID\"), \"STRIPE_PUBLISHABLE_KEY\": get_secret(\"STRIPE_PUBLISHABLE_KEY\"), }, In this example, get_secret() should be a function implemented by you, that reads the secret values from the environment variables, unversioned secrets.json file, or elsewhere. The variables mentioned in extra_context will be passed to all templates of Django GDPR Cookie Consent.","title":"Passing Variables to Cookie Consent Management Templates"},{"location":"customization/#conditional-rendering-in-templates","text":"Enable gdpr_cookie_consent context processor in the template settings: TEMPLATES = [ { # \u2026 \"OPTIONS\": { \"context_processors\": [ # \u2026 \"gdpr_cookie_consent.context_processors.gdpr_cookie_consent\", ], }, }, ] Now you can check if a section was chosen by the visitor in any template by this: {% if \"functionality\" in cookie_consent_controller.checked_sections %} <!-- add some optional functionality --> {% endif %} Note that this conditional rendering will happen only after page reload, not just after closing the Cookie Consent modal dialog.","title":"Conditional Rendering in Templates"},{"location":"customization/#conditional-rendering-in-javascript","text":"If you are using ReactJS, Vue, AngularJS, or other frontend library to render HTML, you can check if a cookie section was chosen by the following technique. At first set a global variable in conditional templates: {# conditional_html/functionality.html #} <script> window.ENABLE_YOUTUBE_EMBEDS = true; </script> Then check for that value in some rendering functions: // some javascript file if (window.ENABLE_YOUTUBE_EMBEDS) { embed_youtube_videos(); }","title":"Conditional Rendering in JavaScript"},{"location":"customization/#using-content-security-policy-with-django-csp","text":"Django GDPR Cookie Consent is compatible with Content-Security-Policy via Django-CSP app. To use it together, you just need to do two things. In the project's settings, enable nonces: CSP_INCLUDE_NONCE_IN = [\"script-src\", \"style-src\"] In the conditional html snippets, set nonces for inline <style> and <script> tags: <style nonce=\"{{ request.csp_nonce }}\"> body { background: red; } </style> <script nonce=\"{{ request.csp_nonce }}\"> console.log('Conditional script loaded!'); </script>","title":"Using Content-Security-Policy with Django-CSP"},{"location":"getting-started/","text":"Getting Started How to Install 1. Download and install the package with pip Get Django GDPR Cookie Consent from Gumroad . Create a directory private_wheels/ in your project's repository and add the wheel file of the app there. Link to this file in your requirements.txt : Django==5.0 file:./private_wheels/django_gdpr_cookie_consent-2.2.0-py2.py3-none-any.whl Install the pip requirements from the requirements.txt file into your project's virtual environment: (venv)$ pip install -r requirements.txt Alternatively to start quickly, install the wheel file into your Django project's virtual environment right from the shell: (venv)$ pip install /path/to/django_gdpr_cookie_consent-2.2.0-py2.py3-none-any.whl 2. Add the app to INSTALLED_APPS of your project settings INSTALLED_APPS = [ # \u2026 \"gdpr_cookie_consent.apps.GdprCookieConsentConfig\", # \u2026 ] 3. Add path to urlpatterns from django.urls import path, include urlpatterns = [ # \u2026 path( \"cookies/\", include(\"gdpr_cookie_consent.urls\", namespace=\"cookie_consent\"), ), # \u2026 ] 4. Include the widget to your template(s) Load the CSS somewhere in the <head> section: <link href=\"{% static 'gdpr-cookie-consent/css/gdpr-cookie-consent.css' %}\" rel=\"stylesheet\" /> Include the widget just before the closing </body> tag: {% include \"gdpr_cookie_consent/includes/cookie_consent.html\" %} Link to the cookie management view, for example, in the website's footer: {% url \"cookie_consent:cookies_management\" as cookie_management_url %} <a href=\"{{ cookie_management_url }}\" rel=\"nofollow\"> {% trans \"Manage Cookies\" %} </a> How to Use 1. Copy, paste, and modify the cookie consent configuration Copy the example of COOKIE_CONSENT_SETTINGS to the end of your project settings, then modify it to match the cookie usage of your website. In the example above, there are four cookie sections: Essential (strictly necessary), Functionality (optional), Performance (optional), and Marketing (optional). 2. Create templates to render HTML for non-required cookies Cookies that are set conditionally based upon a visitor\u2019s choices must be rendered from conditional templates. For example, analytics providers typically instruct to place the analytics tag within the page\u2019s <head> section. However, suppose visitors are being given a choice of whether to accept analytics cookies using Django GDPR Cookie Consent. In that case, the analytics tag that sets the analytics cookies must be rendered from conditional templates. The conditional HTML might include external or inline styles, external or inline JavaScripts, and other HTML snippets. Create templates for the snippets that will be loaded or rendered when a particular section is chosen, for example: conditional_html/functionality.html conditional_html/performance.html conditional_html/marketing.html For testing, you can add the markup like: <script> console.log('Conditional functionality code loaded.'); </script> <script> console.log('Conditional performance code loaded.'); </script> <script> console.log('Conditional marketing code loaded.'); </script> Manage the scripts that create your Essential (strictly necessary) cookies separately, unrelated to conditional html snippets. 3. Translate your titles and descriptions If your website has more than one language, prepare the translations: Use management command makemessages to collect translatable strings into django.po files. Translate the strings to the languages you need. Then, use the management command compilemessages to compile them to django.mo files.","title":"Getting Started"},{"location":"getting-started/#getting-started","text":"","title":"Getting Started"},{"location":"getting-started/#how-to-install","text":"","title":"How to Install"},{"location":"getting-started/#1-download-and-install-the-package-with-pip","text":"Get Django GDPR Cookie Consent from Gumroad . Create a directory private_wheels/ in your project's repository and add the wheel file of the app there. Link to this file in your requirements.txt : Django==5.0 file:./private_wheels/django_gdpr_cookie_consent-2.2.0-py2.py3-none-any.whl Install the pip requirements from the requirements.txt file into your project's virtual environment: (venv)$ pip install -r requirements.txt Alternatively to start quickly, install the wheel file into your Django project's virtual environment right from the shell: (venv)$ pip install /path/to/django_gdpr_cookie_consent-2.2.0-py2.py3-none-any.whl","title":"1. Download and install the package with pip"},{"location":"getting-started/#2-add-the-app-to-installed_apps-of-your-project-settings","text":"INSTALLED_APPS = [ # \u2026 \"gdpr_cookie_consent.apps.GdprCookieConsentConfig\", # \u2026 ]","title":"2. Add the app to INSTALLED_APPS of your project settings"},{"location":"getting-started/#3-add-path-to-urlpatterns","text":"from django.urls import path, include urlpatterns = [ # \u2026 path( \"cookies/\", include(\"gdpr_cookie_consent.urls\", namespace=\"cookie_consent\"), ), # \u2026 ]","title":"3. Add path to urlpatterns"},{"location":"getting-started/#4-include-the-widget-to-your-templates","text":"Load the CSS somewhere in the <head> section: <link href=\"{% static 'gdpr-cookie-consent/css/gdpr-cookie-consent.css' %}\" rel=\"stylesheet\" /> Include the widget just before the closing </body> tag: {% include \"gdpr_cookie_consent/includes/cookie_consent.html\" %} Link to the cookie management view, for example, in the website's footer: {% url \"cookie_consent:cookies_management\" as cookie_management_url %} <a href=\"{{ cookie_management_url }}\" rel=\"nofollow\"> {% trans \"Manage Cookies\" %} </a>","title":"4. Include the widget to your template(s)"},{"location":"getting-started/#how-to-use","text":"","title":"How to Use"},{"location":"getting-started/#1-copy-paste-and-modify-the-cookie-consent-configuration","text":"Copy the example of COOKIE_CONSENT_SETTINGS to the end of your project settings, then modify it to match the cookie usage of your website. In the example above, there are four cookie sections: Essential (strictly necessary), Functionality (optional), Performance (optional), and Marketing (optional).","title":"1. Copy, paste, and modify the cookie consent configuration"},{"location":"getting-started/#2-create-templates-to-render-html-for-non-required-cookies","text":"Cookies that are set conditionally based upon a visitor\u2019s choices must be rendered from conditional templates. For example, analytics providers typically instruct to place the analytics tag within the page\u2019s <head> section. However, suppose visitors are being given a choice of whether to accept analytics cookies using Django GDPR Cookie Consent. In that case, the analytics tag that sets the analytics cookies must be rendered from conditional templates. The conditional HTML might include external or inline styles, external or inline JavaScripts, and other HTML snippets. Create templates for the snippets that will be loaded or rendered when a particular section is chosen, for example: conditional_html/functionality.html conditional_html/performance.html conditional_html/marketing.html For testing, you can add the markup like: <script> console.log('Conditional functionality code loaded.'); </script> <script> console.log('Conditional performance code loaded.'); </script> <script> console.log('Conditional marketing code loaded.'); </script> Manage the scripts that create your Essential (strictly necessary) cookies separately, unrelated to conditional html snippets.","title":"2. Create templates to render HTML for non-required cookies"},{"location":"getting-started/#3-translate-your-titles-and-descriptions","text":"If your website has more than one language, prepare the translations: Use management command makemessages to collect translatable strings into django.po files. Translate the strings to the languages you need. Then, use the management command compilemessages to compile them to django.mo files.","title":"3. Translate your titles and descriptions"}]}